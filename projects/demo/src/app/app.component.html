<mat-sidenav-container fxFlexFill>
  <mat-sidenav #nav [mode]="'side'" [opened]="user.is">
    <mat-action-list style="padding-top: 0; height: 100%" fxLayout="column">
      <mat-list-item
        routerLinkActive="active"
        routerLink="/user/vectors"
        matTooltip="Vectors"
      >
        <mat-icon class="back">chevron_left</mat-icon>
        <i class="fas fa-folder-open"></i>
      </mat-list-item>
      <div fxFlex="1 0 auto"></div>
      <mat-divider></mat-divider>

      <mat-list-item [matMenuTriggerFor]="toolsMenu">
        <mat-icon mat-list-icon color="primary">more_horiz</mat-icon>
      </mat-list-item>
      <mat-menu #toolsMenu>
        <button
          mat-menu-item
          (click)="bugReport()"
          matTooltip="Open bug report dialog"
        >
          <mat-icon mat-list-icon>bug_report</mat-icon>
          Bug Report
        </button>
        <button
          mat-menu-item
          (click)="peers()"
          matTooltip="Open peer statistics"
        >
          <mat-icon
            mat-list-icon
            [matBadge]="
              (diagnosticsService.disconnectedPeers$ | async)?.length || null
            "
            matBadgeColor="warn"
            matBadgeSize="small"
          >
            signal_wifi_4_bar
          </mat-icon>
          Peers
        </button>
        <button mat-menu-item (click)="about()">
          <mat-icon mat-list-icon>info</mat-icon>
          About Ouronote
        </button>
      </mat-menu>
      <mat-list-item
        [matMenuTriggerFor]="sessionMenu"
        [matTooltip]="'@' + ngGun.auth().alias"
      >
        <mat-icon mat-list-icon color="primary">account_circle</mat-icon>
      </mat-list-item>
      <mat-menu #sessionMenu>
        <button mat-menu-item (click)="logout()">Log Out</button>
      </mat-menu>
    </mat-action-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
