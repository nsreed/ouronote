<h1>ouronote</h1>
<form [formGroup]="form">
  <mat-form-field>
    <input matInput formControlName="alias" placeholder="username" />
    <mat-label>username</mat-label>
    <span matPrefix>@</span>
    <!-- <mat-hint>{{
      mode !== "create"
        ? "Type your username here."
        : "Usernames are publicly visible."
    }}</mat-hint> -->
  </mat-form-field>
  <mat-form-field>
    <input type="password" matInput formControlName="password" />
    <mat-label>password</mat-label>
  </mat-form-field>
  <mat-form-field *ngIf="mode === 'create'">
    <input type="password" matInput formControlName="password2" />
    <mat-label>confirm password</mat-label>
  </mat-form-field>
  <div
    fxLayout="row"
    fxLayoutAlign="center center"
    fxLayoutGap=".5em"
    class="mat-error"
    *ngIf="unsupportedBrowser"
  >
    <mat-icon>warning</mat-icon>
    <div>
      Caution: This is an unsupported browser.<br />You may be unable to view or
      edit your 'verses from this device.
    </div>
    <!-- <pre>{{ unsupportedBrowser | json }}</pre> -->
  </div>
  <ng-container *ngIf="mode === 'login'; else Create">
    <div fxLayout="row" fxLayoutAlign="center baseline" fxLayoutGap="1em">
      <button mat-raised-button color="primary" (click)="login()">
        Log In
      </button>
      or
      <button mat-button color="primary" (click)="mode = 'create'">
        Create Account
      </button>
    </div>
    <mat-error *ngIf="requiredFields">
      Username and password are required.
    </mat-error>
    <mat-error *ngIf="error">
      <p>Username or password not found.</p>

      <p>
        If you have created an account on another device, log in with that
        device first, then try again.
      </p></mat-error
    >
  </ng-container>
  <ng-template #Create>
    <mat-error *ngIf="passwordMatch"> Passwords do not match. </mat-error>
    <div fxLayout="row" fxLayoutAlign="center baseline" fxLayoutGap="1em">
      <button
        mat-raised-button
        color="primary"
        (click)="create()"
        [disabled]="
          passwordMatch && form.value.alias !== '' && form.value.password !== ''
        "
      >
        Create & Sign In
      </button>
      <button mat-button (click)="mode = 'login'">Cancel</button>
    </div>
  </ng-template>
  <p></p>
  <div>
    <a mat-icon-button routerLink="/settings">
      <mat-icon>settings</mat-icon>
    </a>
    <a mat-icon-button (click)="about()">
      <mat-icon>info</mat-icon>
    </a>
  </div>
  <!-- <button mat-flat-button (click)="about()">About</button> -->
</form>
<img
  height="100"
  id="HeaderImage"
  src="/assets/images/ouronote_header_1500x500.jpg"
/>
