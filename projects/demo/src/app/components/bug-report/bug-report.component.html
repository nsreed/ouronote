<h1 matDialogTitle>Bug Report</h1>
<div matDialogContent>
  <div fxLayout="column">
    <h2>Description</h2>
    <textarea matInput
      placeholder="Please provide a description of the problem and what you were doing/what you expected when you encountered it."
      [formControl]="descriptionCtl"></textarea>
    <h2>Options</h2>
    <form [formGroup]="includeForm">
      <h3>Choose what information to include in the report:</h3>
      <mat-checkbox formControlName="log">Logs</mat-checkbox>
      This is a collection of log messages generated by the application leading
      up to the bug report.
      <mat-checkbox formControlName="peers">Peer Information</mat-checkbox>
      A list of peers that the application was connected to at the time of the
      bug report.
      <mat-checkbox formControlName="gunOpts">Database Configuration</mat-checkbox>
      Contains information about the relay peers that the database is configured
      to connect to, as well as system configuration options relating to storage
      and communication.
      <mat-checkbox formControlName="graph">Database Contents</mat-checkbox>
      This is a full copy of the database used by the application at the time of
      the bug report.
      <mat-checkbox formControlName="is">User's Public Key</mat-checkbox>
      Used for identifying ownership of items in the database.
    </form>
    <mat-divider></mat-divider>
    <h2>Preview</h2>
    <pre>{{ reportStr }}</pre>
  </div>
</div>
<div matDialogActions>
  <button mat-icon-button (click)="copy()" matTooltip="Copy to clipboard">
    <mat-icon>content_copy</mat-icon>
  </button>
  <button mat-icon-button (click)="download()" matTooltip="Download .json">
    <mat-icon>file_download</mat-icon>
  </button>
  <a mat-button target="_blank" rel="noopener" href="https://www.github.com/nsreed/ouronote/issues">Create a github
    issue</a>
</div>
