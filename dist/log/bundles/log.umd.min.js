!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("log",["exports","@angular/core","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).log={},e.ng.core,e.rxjs.operators)}(this,(function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r,s=o(t);e.LogLevel=void 0,(r=e.LogLevel||(e.LogLevel={}))[r.VERBOSE=0]="VERBOSE",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR";var i=function(){function n(o,r){var s=this;void 0===o&&(o="app"),this.name=o,this.parent=r,this._out$=new t.EventEmitter,this.out$=this._out$,this.outSub=this.out$.subscribe((function(e){s.parent?s.parent._out$.emit(e):console.log("%s %s %s %s",e.name,new Date(e.timestamp).toISOString(),e.message,JSON.stringify(e.args))})),this.level=e.LogLevel.INFO,this.supplementals=new Map,this.name=this.name||"app","root"===this.name||r||(this.parent=n.root)}return n.getLogger=function(e){return new n(e)},n.prototype.verbose=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=this.buildMessage(e.LogLevel.VERBOSE,t,n);this._out$.emit(r)},n.prototype.log=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=this.buildMessage(e.LogLevel.INFO,t,n);this._out$.emit(r)},n.prototype.warn=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=this.buildMessage(e.LogLevel.WARN,t,n);this._out$.emit(r)},n.prototype.error=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=this.buildMessage(e.LogLevel.ERROR,t,n);this._out$.emit(r)},n.prototype.supplemental=function(e){if(!this.supplementals.has(e)){var t=new n(e,this);this.supplementals.set(e,t)}return this.supplementals.get(e)},n.prototype.buildMessage=function(e,t,n){return{level:e,message:t,args:n,timestamp:Date.now(),name:this.name}},n}();i.root=new i("root"),i.buffer$=i.root.out$.pipe(n.scan((function(e,t){return e.push(t),e.length>1e3&&e.shift(),e}),[]),n.shareReplay(1)),i.ɵfac=function(e){return new(e||i)(s.ɵɵinject("log-name",8),s.ɵɵinject(i,12))},i.ɵprov=s.ɵɵdefineInjectable({token:i,factory:i.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&s.ɵsetClassMetadata(i,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:["log-name"]}]},{type:i,decorators:[{type:t.Optional},{type:t.SkipSelf}]}]}),null);var a=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();a.ɵfac=function(e){return new(e||a)},a.ɵcmp=s.ɵɵdefineComponent({type:a,selectors:[["lib-log"]],decls:2,vars:0,template:function(e,t){1&e&&(s.ɵɵelementStart(0,"p"),s.ɵɵtext(1," log works! "),s.ɵɵelementEnd())},encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&s.ɵsetClassMetadata(a,[{type:t.Component,args:[{selector:"lib-log",template:"\n    <p>\n      log works!\n    </p>\n  ",styles:[]}]}],(function(){return[]}),null);var u=function(){};u.ɵmod=s.ɵɵdefineNgModule({type:u}),u.ɵinj=s.ɵɵdefineInjector({factory:function(e){return new(e||u)},imports:[[]]}),("undefined"==typeof ngDevMode||ngDevMode)&&s.ɵsetClassMetadata(u,[{type:t.NgModule,args:[{declarations:[],imports:[],exports:[]}]}],null,null),e.LogComponent=a,e.LogModule=u,e.LogService=i,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=log.umd.min.js.map